{"componentChunkName":"component---src-templates-post-js","path":"/blog/codepipeline/","result":{"data":{"mdx":{"frontmatter":{"title":"Gotchas: Elastic Beanstalk and Cross-Account CodePipeline with CloudFormation","date":"2020-05-10","excerpt":"Gotchas: Elastic Beanstalk and Cross-Account CodePipeline with CloudFormation"},"code":{"body":"function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar layoutProps = {};\n\nvar MDXContent =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(MDXContent, _React$Component);\n\n  function MDXContent(props) {\n    var _this;\n\n    _classCallCheck(this, MDXContent);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MDXContent).call(this, props));\n    _this.layout = null;\n    return _this;\n  }\n\n  _createClass(MDXContent, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          components = _this$props.components,\n          props = _objectWithoutProperties(_this$props, [\"components\"]);\n\n      return React.createElement(MDXTag, {\n        name: \"wrapper\",\n        components: components\n      }, React.createElement(MDXTag, {\n        name: \"h2\",\n        components: components,\n        props: {\n          \"id\": \"tldr\",\n          \"style\": {\n            \"position\": \"relative\"\n          }\n        }\n      }, React.createElement(MDXTag, {\n        name: \"a\",\n        components: components,\n        parentName: \"h2\",\n        props: {\n          \"href\": \"#tldr\",\n          \"aria-label\": \"tldr permalink\",\n          \"className\": \"anchor before\"\n        }\n      }, React.createElement(MDXTag, {\n        name: \"svg\",\n        components: components,\n        parentName: \"a\",\n        props: {\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }\n      }, React.createElement(MDXTag, {\n        name: \"path\",\n        components: components,\n        parentName: \"svg\",\n        props: {\n          \"fillRule\": \"evenodd\",\n          \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n        }\n      }))), \"TL;DR\"), React.createElement(MDXTag, {\n        name: \"p\",\n        components: components\n      }, \"Just use \", React.createElement(MDXTag, {\n        name: \"a\",\n        components: components,\n        parentName: \"p\",\n        props: {\n          \"href\": \"https://www.terraform.io\"\n        }\n      }, \"Terraform\"), \" and \", React.createElement(MDXTag, {\n        name: \"a\",\n        components: components,\n        parentName: \"p\",\n        props: {\n          \"href\": \"https://circleci.com\"\n        }\n      }, \"CircleCI\"), \".\"), React.createElement(MDXTag, {\n        name: \"h2\",\n        components: components,\n        props: {\n          \"id\": \"overview\",\n          \"style\": {\n            \"position\": \"relative\"\n          }\n        }\n      }, React.createElement(MDXTag, {\n        name: \"a\",\n        components: components,\n        parentName: \"h2\",\n        props: {\n          \"href\": \"#overview\",\n          \"aria-label\": \"overview permalink\",\n          \"className\": \"anchor before\"\n        }\n      }, React.createElement(MDXTag, {\n        name: \"svg\",\n        components: components,\n        parentName: \"a\",\n        props: {\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }\n      }, React.createElement(MDXTag, {\n        name: \"path\",\n        components: components,\n        parentName: \"svg\",\n        props: {\n          \"fillRule\": \"evenodd\",\n          \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n        }\n      }))), \"Overview\"), React.createElement(MDXTag, {\n        name: \"p\",\n        components: components\n      }, \"Building a cross-account continuous delivery pipeline for a simple Spring Boot Elastic Beanstalk app using CodePipeline\\nand CloudFormation.\"), React.createElement(MDXTag, {\n        name: \"p\",\n        components: components\n      }, React.createElement(MDXTag, {\n        name: \"a\",\n        components: components,\n        parentName: \"p\",\n        props: {\n          \"href\": \"https://github.com/blairnangle/example-elastic-beanstalk-cross-account-codepipeline-cloudformation\"\n        }\n      }, \"Jump straight to source code.\")), React.createElement(MDXTag, {\n        name: \"h2\",\n        components: components,\n        props: {\n          \"id\": \"introduction\",\n          \"style\": {\n            \"position\": \"relative\"\n          }\n        }\n      }, React.createElement(MDXTag, {\n        name: \"a\",\n        components: components,\n        parentName: \"h2\",\n        props: {\n          \"href\": \"#introduction\",\n          \"aria-label\": \"introduction permalink\",\n          \"className\": \"anchor before\"\n        }\n      }, React.createElement(MDXTag, {\n        name: \"svg\",\n        components: components,\n        parentName: \"a\",\n        props: {\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }\n      }, React.createElement(MDXTag, {\n        name: \"path\",\n        components: components,\n        parentName: \"svg\",\n        props: {\n          \"fillRule\": \"evenodd\",\n          \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n        }\n      }))), \"Introduction\"), React.createElement(MDXTag, {\n        name: \"p\",\n        components: components\n      }, \"This post will not provide step-by-step instructions for provisioning the AWS infrastructure\\u2014hopefully the\\n\", React.createElement(MDXTag, {\n        name: \"a\",\n        components: components,\n        parentName: \"p\",\n        props: {\n          \"href\": \"https://github.com/blairnangle/example-elastic-beanstalk-cross-account-codepipeline-cloudformation\"\n        }\n      }, \"source code\"), \" is reasonably self-explanatory. Instead, this post hopes to identify and document some common\\ngotchas.\"), React.createElement(MDXTag, {\n        name: \"p\",\n        components: components\n      }, \"I have opted for a solution that deploys infrastructure then application code in a single pipeline.\"), React.createElement(MDXTag, {\n        name: \"h2\",\n        components: components,\n        props: {\n          \"id\": \"prerequisites\",\n          \"style\": {\n            \"position\": \"relative\"\n          }\n        }\n      }, React.createElement(MDXTag, {\n        name: \"a\",\n        components: components,\n        parentName: \"h2\",\n        props: {\n          \"href\": \"#prerequisites\",\n          \"aria-label\": \"prerequisites permalink\",\n          \"className\": \"anchor before\"\n        }\n      }, React.createElement(MDXTag, {\n        name: \"svg\",\n        components: components,\n        parentName: \"a\",\n        props: {\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }\n      }, React.createElement(MDXTag, {\n        name: \"path\",\n        components: components,\n        parentName: \"svg\",\n        props: {\n          \"fillRule\": \"evenodd\",\n          \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n        }\n      }))), \"Prerequisites\"), React.createElement(MDXTag, {\n        name: \"p\",\n        components: components\n      }, \"Prerequisites for using recreating the example are documented in the \", React.createElement(MDXTag, {\n        name: \"a\",\n        components: components,\n        parentName: \"p\",\n        props: {\n          \"href\": \"https://github.com/blairnangle/example-elastic-beanstalk-cross-account-codepipeline-cloudformation\"\n        }\n      }, \"GitHub project\"), \".\"), React.createElement(MDXTag, {\n        name: \"h2\",\n        components: components,\n        props: {\n          \"id\": \"gotchas\",\n          \"style\": {\n            \"position\": \"relative\"\n          }\n        }\n      }, React.createElement(MDXTag, {\n        name: \"a\",\n        components: components,\n        parentName: \"h2\",\n        props: {\n          \"href\": \"#gotchas\",\n          \"aria-label\": \"gotchas permalink\",\n          \"className\": \"anchor before\"\n        }\n      }, React.createElement(MDXTag, {\n        name: \"svg\",\n        components: components,\n        parentName: \"a\",\n        props: {\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }\n      }, React.createElement(MDXTag, {\n        name: \"path\",\n        components: components,\n        parentName: \"svg\",\n        props: {\n          \"fillRule\": \"evenodd\",\n          \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n        }\n      }))), \"Gotchas\"), React.createElement(MDXTag, {\n        name: \"h3\",\n        components: components,\n        props: {\n          \"id\": \"permissions\",\n          \"style\": {\n            \"position\": \"relative\"\n          }\n        }\n      }, React.createElement(MDXTag, {\n        name: \"a\",\n        components: components,\n        parentName: \"h3\",\n        props: {\n          \"href\": \"#permissions\",\n          \"aria-label\": \"permissions permalink\",\n          \"className\": \"anchor before\"\n        }\n      }, React.createElement(MDXTag, {\n        name: \"svg\",\n        components: components,\n        parentName: \"a\",\n        props: {\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }\n      }, React.createElement(MDXTag, {\n        name: \"path\",\n        components: components,\n        parentName: \"svg\",\n        props: {\n          \"fillRule\": \"evenodd\",\n          \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n        }\n      }))), \"Permissions\"), React.createElement(MDXTag, {\n        name: \"p\",\n        components: components\n      }, \"The trickiest thing about doing cross-account deployments with AWS is granting enough permissions to the relevant\\nservices while still following the \", React.createElement(MDXTag, {\n        name: \"a\",\n        components: components,\n        parentName: \"p\",\n        props: {\n          \"href\": \"https://circleci.com/blog/minimize-risk-using-the-principle-of-least-privilege-and-aws-iam-permissions/\"\n        }\n      }, \"principle of least privilege\"), \".\\nFor me, in practice, this sometimes meant over-allocating permissions while developing and gradually removing while\\nrefactoring, often by trial and error in both scenarios.\"), React.createElement(MDXTag, {\n        name: \"h3\",\n        components: components,\n        props: {\n          \"id\": \"order-of-resource-creation\",\n          \"style\": {\n            \"position\": \"relative\"\n          }\n        }\n      }, React.createElement(MDXTag, {\n        name: \"a\",\n        components: components,\n        parentName: \"h3\",\n        props: {\n          \"href\": \"#order-of-resource-creation\",\n          \"aria-label\": \"order of resource creation permalink\",\n          \"className\": \"anchor before\"\n        }\n      }, React.createElement(MDXTag, {\n        name: \"svg\",\n        components: components,\n        parentName: \"a\",\n        props: {\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }\n      }, React.createElement(MDXTag, {\n        name: \"path\",\n        components: components,\n        parentName: \"svg\",\n        props: {\n          \"fillRule\": \"evenodd\",\n          \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n        }\n      }))), \"Order of Resource Creation\"), React.createElement(MDXTag, {\n        name: \"p\",\n        components: components\n      }, \"The order in which I have chose to create resources can be understood from the \", React.createElement(MDXTag, {\n        name: \"code\",\n        components: components,\n        parentName: \"p\",\n        props: {\n          \"className\": \"language-text\"\n        }\n      }, \"go\"), \" script. The \", React.createElement(MDXTag, {\n        name: \"code\",\n        components: components,\n        parentName: \"p\",\n        props: {\n          \"className\": \"language-text\"\n        }\n      }, \"dummyPipeline\"), \" stack\\nmust be created last and the \", React.createElement(MDXTag, {\n        name: \"code\",\n        components: components,\n        parentName: \"p\",\n        props: {\n          \"className\": \"language-text\"\n        }\n      }, \"dummyPreReqs\"), \" stack must be created before \", React.createElement(MDXTag, {\n        name: \"code\",\n        components: components,\n        parentName: \"p\",\n        props: {\n          \"className\": \"language-text\"\n        }\n      }, \"dummyIam\"), \". Reasons for this include but are not\\nlimited to:\"), React.createElement(MDXTag, {\n        name: \"ul\",\n        components: components\n      }, React.createElement(MDXTag, {\n        name: \"li\",\n        components: components,\n        parentName: \"ul\"\n      }, \"The S3 bucket that acts as the artifact store for the pipeline and its associated customer master key need to exist\\nbefore the pipeline can reference and create roles with permissions to access them\"), React.createElement(MDXTag, {\n        name: \"li\",\n        components: components,\n        parentName: \"ul\"\n      }, \"The creation of \", React.createElement(MDXTag, {\n        name: \"code\",\n        components: components,\n        parentName: \"li\",\n        props: {\n          \"className\": \"language-text\"\n        }\n      }, \"dummyPreReqs\"), \" involves adding dynamically adding values to the parameters of \", React.createElement(MDXTag, {\n        name: \"code\",\n        components: components,\n        parentName: \"li\",\n        props: {\n          \"className\": \"language-text\"\n        }\n      }, \"dummyIam\")), React.createElement(MDXTag, {\n        name: \"li\",\n        components: components,\n        parentName: \"ul\"\n      }, \"The creation of \", React.createElement(MDXTag, {\n        name: \"code\",\n        components: components,\n        parentName: \"li\",\n        props: {\n          \"className\": \"language-text\"\n        }\n      }, \"dummyElasticBeanstalk\"), \" involves adding dynamically adding values to the parameters of\\n\", React.createElement(MDXTag, {\n        name: \"code\",\n        components: components,\n        parentName: \"li\",\n        props: {\n          \"className\": \"language-text\"\n        }\n      }, \"dummyPipeline\"), \"\\u2014the pipeline needs to know the application and environment to which it will deploy\")), React.createElement(MDXTag, {\n        name: \"p\",\n        components: components\n      }, \"The same rules are reversed in the \", React.createElement(MDXTag, {\n        name: \"code\",\n        components: components,\n        parentName: \"p\",\n        props: {\n          \"className\": \"language-text\"\n        }\n      }, \"destroy\"), \" script.\"), React.createElement(MDXTag, {\n        name: \"h3\",\n        components: components,\n        props: {\n          \"id\": \"artifact-s3-bucket-tools-account\",\n          \"style\": {\n            \"position\": \"relative\"\n          }\n        }\n      }, React.createElement(MDXTag, {\n        name: \"a\",\n        components: components,\n        parentName: \"h3\",\n        props: {\n          \"href\": \"#artifact-s3-bucket-tools-account\",\n          \"aria-label\": \"artifact s3 bucket tools account permalink\",\n          \"className\": \"anchor before\"\n        }\n      }, React.createElement(MDXTag, {\n        name: \"svg\",\n        components: components,\n        parentName: \"a\",\n        props: {\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }\n      }, React.createElement(MDXTag, {\n        name: \"path\",\n        components: components,\n        parentName: \"svg\",\n        props: {\n          \"fillRule\": \"evenodd\",\n          \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n        }\n      }))), \"Artifact S3 Bucket (tools account)\"), React.createElement(MDXTag, {\n        name: \"p\",\n        components: components\n      }, \"Storage to back the pipeline.\"), React.createElement(MDXTag, {\n        name: \"h3\",\n        components: components,\n        props: {\n          \"id\": \"customer-master-key-cmk-in-key-management-service-kms-tools\",\n          \"style\": {\n            \"position\": \"relative\"\n          }\n        }\n      }, React.createElement(MDXTag, {\n        name: \"a\",\n        components: components,\n        parentName: \"h3\",\n        props: {\n          \"href\": \"#customer-master-key-cmk-in-key-management-service-kms-tools\",\n          \"aria-label\": \"customer master key cmk in key management service kms tools permalink\",\n          \"className\": \"anchor before\"\n        }\n      }, React.createElement(MDXTag, {\n        name: \"svg\",\n        components: components,\n        parentName: \"a\",\n        props: {\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }\n      }, React.createElement(MDXTag, {\n        name: \"path\",\n        components: components,\n        parentName: \"svg\",\n        props: {\n          \"fillRule\": \"evenodd\",\n          \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n        }\n      }))), \"Customer Master Key (CMK) in Key Management Service (KMS) (tools)\"), React.createElement(MDXTag, {\n        name: \"p\",\n        components: components\n      }, \"When using CodePipeline in a single environment, CodePipeline can implicitly use the account\\u2019s default KMS key for\\nencryption and decryption. However, whenever sharing artifacts between accounts, we need to define our own key in our\\ntools account and permit our test account to use it.\"), React.createElement(MDXTag, {\n        name: \"h3\",\n        components: components,\n        props: {\n          \"id\": \"initial-creation-of-elastic-beanstalk-application-and-environment\",\n          \"style\": {\n            \"position\": \"relative\"\n          }\n        }\n      }, React.createElement(MDXTag, {\n        name: \"a\",\n        components: components,\n        parentName: \"h3\",\n        props: {\n          \"href\": \"#initial-creation-of-elastic-beanstalk-application-and-environment\",\n          \"aria-label\": \"initial creation of elastic beanstalk application and environment permalink\",\n          \"className\": \"anchor before\"\n        }\n      }, React.createElement(MDXTag, {\n        name: \"svg\",\n        components: components,\n        parentName: \"a\",\n        props: {\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }\n      }, React.createElement(MDXTag, {\n        name: \"path\",\n        components: components,\n        parentName: \"svg\",\n        props: {\n          \"fillRule\": \"evenodd\",\n          \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n        }\n      }))), \"Initial Creation of Elastic Beanstalk Application and Environment\"), React.createElement(MDXTag, {\n        name: \"p\",\n        components: components\n      }, \"To deploy your own code to Elastic Beanstalk via a CI/CD pipeline, CodePipeline needs to know the name of the\\napplication and environment. This is achieved by initially creating an Elastic Beanstalk stack from a template\\nwithout an \", React.createElement(MDXTag, {\n        name: \"a\",\n        components: components,\n        parentName: \"p\",\n        props: {\n          \"href\": \"https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-beanstalk-sourcebundle.html\"\n        }\n      }, \"application version SourceBundle\"), \".\\nThis results in the default app being deployed the first time your Elastic Beanstalk resources are created:\"), React.createElement(MDXTag, {\n        name: \"p\",\n        components: components\n      }, React.createElement(MDXTag, {\n        name: \"img\",\n        components: components,\n        parentName: \"p\",\n        props: {\n          \"src\": \"elastic-beanstalk-default.png\",\n          \"alt\": \"Default Elastic Beanstalk Application\"\n        }\n      })), React.createElement(MDXTag, {\n        name: \"p\",\n        components: components\n      }, \"The \", React.createElement(MDXTag, {\n        name: \"code\",\n        components: components,\n        parentName: \"p\",\n        props: {\n          \"className\": \"language-text\"\n        }\n      }, \"./go\"), \" script uses the application and environment names created in the initial creation of the Elastic Beanstalk\\nstack to connect the CodePipeline deployment stage with the correct app, meaning subsequent deployments will use\\nartifacts built by the CodeBuild project (and ultimately sourced from your GitHub repository).\"), React.createElement(MDXTag, {\n        name: \"h3\",\n        components: components,\n        props: {\n          \"id\": \"implicit-stack-creation\",\n          \"style\": {\n            \"position\": \"relative\"\n          }\n        }\n      }, React.createElement(MDXTag, {\n        name: \"a\",\n        components: components,\n        parentName: \"h3\",\n        props: {\n          \"href\": \"#implicit-stack-creation\",\n          \"aria-label\": \"implicit stack creation permalink\",\n          \"className\": \"anchor before\"\n        }\n      }, React.createElement(MDXTag, {\n        name: \"svg\",\n        components: components,\n        parentName: \"a\",\n        props: {\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }\n      }, React.createElement(MDXTag, {\n        name: \"path\",\n        components: components,\n        parentName: \"svg\",\n        props: {\n          \"fillRule\": \"evenodd\",\n          \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n        }\n      }))), \"Implicit Stack Creation\"), React.createElement(MDXTag, {\n        name: \"p\",\n        components: components\n      }, \"CloudFormation and Elastic Beanstalk work together to create an auxiliary stack with all the scaffolding infrastructure\\nthat Elastic Beanstalk needs. I have defined close to the bare minimum for creating an Elastic Beanstalk app and\\nenvironment in \", React.createElement(MDXTag, {\n        name: \"code\",\n        components: components,\n        parentName: \"p\",\n        props: {\n          \"className\": \"language-text\"\n        }\n      }, \"elastic-beanstalk.yml\"), \". The\"), React.createElement(MDXTag, {\n        name: \"h3\",\n        components: components,\n        props: {\n          \"id\": \"security-groups\",\n          \"style\": {\n            \"position\": \"relative\"\n          }\n        }\n      }, React.createElement(MDXTag, {\n        name: \"a\",\n        components: components,\n        parentName: \"h3\",\n        props: {\n          \"href\": \"#security-groups\",\n          \"aria-label\": \"security groups permalink\",\n          \"className\": \"anchor before\"\n        }\n      }, React.createElement(MDXTag, {\n        name: \"svg\",\n        components: components,\n        parentName: \"a\",\n        props: {\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }\n      }, React.createElement(MDXTag, {\n        name: \"path\",\n        components: components,\n        parentName: \"svg\",\n        props: {\n          \"fillRule\": \"evenodd\",\n          \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n        }\n      }))), \"Security Groups\"), React.createElement(MDXTag, {\n        name: \"p\",\n        components: components\n      }, \"The auxiliary stack will create a default load balancer security group allowing ingress access from anywhere and  This\\nsecurity group is seemingly deleted upon the first \", React.createElement(MDXTag, {\n        name: \"em\",\n        components: components,\n        parentName: \"p\"\n      }, \"actual\"), \" deployment to Elastic Beanstalk (when the default app is\\nreplaced by my own, sourced from GitHub). At this point, the EC2 instances associated with the Elastic Beanstalk app\\nhave their security group replaced with a self-referential security group that allows traffic from and to any other\\nresource within the account\\u2019s default VPC.\"), React.createElement(MDXTag, {\n        name: \"p\",\n        components: components\n      }, \"I haven\\u2019t been able to find definitive reason for why this happens. I am assuming that it is a safeguarding measure\\nto prevent users from accidentally exposing their own application to whole internet.\"), React.createElement(MDXTag, {\n        name: \"p\",\n        components: components\n      }, \"I found \", React.createElement(MDXTag, {\n        name: \"a\",\n        components: components,\n        parentName: \"p\",\n        props: {\n          \"href\": \"https://stackoverflow.com/a/28384498/4304123\"\n        }\n      }, \"this\"), \" Stack Overflow answer very helpful.\"), React.createElement(MDXTag, {\n        name: \"h3\",\n        components: components,\n        props: {\n          \"id\": \"reasoning-for-pipeline-stages\",\n          \"style\": {\n            \"position\": \"relative\"\n          }\n        }\n      }, React.createElement(MDXTag, {\n        name: \"a\",\n        components: components,\n        parentName: \"h3\",\n        props: {\n          \"href\": \"#reasoning-for-pipeline-stages\",\n          \"aria-label\": \"reasoning for pipeline stages permalink\",\n          \"className\": \"anchor before\"\n        }\n      }, React.createElement(MDXTag, {\n        name: \"svg\",\n        components: components,\n        parentName: \"a\",\n        props: {\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }\n      }, React.createElement(MDXTag, {\n        name: \"path\",\n        components: components,\n        parentName: \"svg\",\n        props: {\n          \"fillRule\": \"evenodd\",\n          \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n        }\n      }))), \"Reasoning for Pipeline Stages\"), React.createElement(MDXTag, {\n        name: \"h3\",\n        components: components,\n        props: {\n          \"id\": \"port-number\",\n          \"style\": {\n            \"position\": \"relative\"\n          }\n        }\n      }, React.createElement(MDXTag, {\n        name: \"a\",\n        components: components,\n        parentName: \"h3\",\n        props: {\n          \"href\": \"#port-number\",\n          \"aria-label\": \"port number permalink\",\n          \"className\": \"anchor before\"\n        }\n      }, React.createElement(MDXTag, {\n        name: \"svg\",\n        components: components,\n        parentName: \"a\",\n        props: {\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }\n      }, React.createElement(MDXTag, {\n        name: \"path\",\n        components: components,\n        parentName: \"svg\",\n        props: {\n          \"fillRule\": \"evenodd\",\n          \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n        }\n      }))), \"Port Number\"), React.createElement(MDXTag, {\n        name: \"p\",\n        components: components\n      }, \"Elastic Beanstalk by default expects the application to be listening on port 5000. Opting for convention rather\\nthan any additional configuration, \", React.createElement(MDXTag, {\n        name: \"code\",\n        components: components,\n        parentName: \"p\",\n        props: {\n          \"className\": \"language-text\"\n        }\n      }, \"server.port=5000\"), \" is configured in \", React.createElement(MDXTag, {\n        name: \"code\",\n        components: components,\n        parentName: \"p\",\n        props: {\n          \"className\": \"language-text\"\n        }\n      }, \"src/main/resources/application.properties\"), \".\"), React.createElement(MDXTag, {\n        name: \"h3\",\n        components: components,\n        props: {\n          \"id\": \"pipeline-fails-first-time\",\n          \"style\": {\n            \"position\": \"relative\"\n          }\n        }\n      }, React.createElement(MDXTag, {\n        name: \"a\",\n        components: components,\n        parentName: \"h3\",\n        props: {\n          \"href\": \"#pipeline-fails-first-time\",\n          \"aria-label\": \"pipeline fails first time permalink\",\n          \"className\": \"anchor before\"\n        }\n      }, React.createElement(MDXTag, {\n        name: \"svg\",\n        components: components,\n        parentName: \"a\",\n        props: {\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }\n      }, React.createElement(MDXTag, {\n        name: \"path\",\n        components: components,\n        parentName: \"svg\",\n        props: {\n          \"fillRule\": \"evenodd\",\n          \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n        }\n      }))), \"Pipeline Fails First Time\"), React.createElement(MDXTag, {\n        name: \"p\",\n        components: components\n      }, \"As soon as the pipeline has been successfully provisioned, an execution will be kicked off. This first run will fail at\\nthe Source stage because the CodePipeline and CodeBuild roles will not yet have been added as principals to the CMK\\n(this happens as the very last step in the \", React.createElement(MDXTag, {\n        name: \"code\",\n        components: components,\n        parentName: \"p\",\n        props: {\n          \"className\": \"language-text\"\n        }\n      }, \"./go\"), \" script) and so will not be able to encrypt and store the \", React.createElement(MDXTag, {\n        name: \"code\",\n        components: components,\n        parentName: \"p\",\n        props: {\n          \"className\": \"language-text\"\n        }\n      }, \"sourced\"), \"\\nartifact from GitHub. Clicking \\u201CRelease change\\u201D or pushing a change to GitHub once the \", React.createElement(MDXTag, {\n        name: \"code\",\n        components: components,\n        parentName: \"p\",\n        props: {\n          \"className\": \"language-text\"\n        }\n      }, \"dummyPreReqs\"), \" stack has been\\nupdated should cause Source to succeed.\"), React.createElement(MDXTag, {\n        name: \"h3\",\n        components: components,\n        props: {\n          \"id\": \"deleting\",\n          \"style\": {\n            \"position\": \"relative\"\n          }\n        }\n      }, React.createElement(MDXTag, {\n        name: \"a\",\n        components: components,\n        parentName: \"h3\",\n        props: {\n          \"href\": \"#deleting\",\n          \"aria-label\": \"deleting permalink\",\n          \"className\": \"anchor before\"\n        }\n      }, React.createElement(MDXTag, {\n        name: \"svg\",\n        components: components,\n        parentName: \"a\",\n        props: {\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }\n      }, React.createElement(MDXTag, {\n        name: \"path\",\n        components: components,\n        parentName: \"svg\",\n        props: {\n          \"fillRule\": \"evenodd\",\n          \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n        }\n      }))), \"Deleting\"), React.createElement(MDXTag, {\n        name: \"p\",\n        components: components\n      }, \"I created \", React.createElement(MDXTag, {\n        name: \"code\",\n        components: components,\n        parentName: \"p\",\n        props: {\n          \"className\": \"language-text\"\n        }\n      }, \"./destroy\"), \" to automate the process of tearing everything down while ensuring order. If you want to delete\\nthings manually via the AWS console, be aware of the following:\"), React.createElement(MDXTag, {\n        name: \"ul\",\n        components: components\n      }, React.createElement(MDXTag, {\n        name: \"li\",\n        components: components,\n        parentName: \"ul\"\n      }, \"Remove the \", React.createElement(MDXTag, {\n        name: \"code\",\n        components: components,\n        parentName: \"li\",\n        props: {\n          \"className\": \"language-text\"\n        }\n      }, \"dummyIam\"), \" stack last in the test environment (it contains IAM resources that are needed to delete the\\n\", React.createElement(MDXTag, {\n        name: \"code\",\n        components: components,\n        parentName: \"li\",\n        props: {\n          \"className\": \"language-text\"\n        }\n      }, \"dummyElasticBeanstalk\"), \" stack and associated automatically-created stack)\"), React.createElement(MDXTag, {\n        name: \"li\",\n        components: components,\n        parentName: \"ul\"\n      }, \"Empty the artifact bucket (tools account) before trying to delete the \", React.createElement(MDXTag, {\n        name: \"code\",\n        components: components,\n        parentName: \"li\",\n        props: {\n          \"className\": \"language-text\"\n        }\n      }, \"dummyPreReqs\"), \" stack\")), React.createElement(MDXTag, {\n        name: \"h2\",\n        components: components,\n        props: {\n          \"id\": \"caveats\",\n          \"style\": {\n            \"position\": \"relative\"\n          }\n        }\n      }, React.createElement(MDXTag, {\n        name: \"a\",\n        components: components,\n        parentName: \"h2\",\n        props: {\n          \"href\": \"#caveats\",\n          \"aria-label\": \"caveats permalink\",\n          \"className\": \"anchor before\"\n        }\n      }, React.createElement(MDXTag, {\n        name: \"svg\",\n        components: components,\n        parentName: \"a\",\n        props: {\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }\n      }, React.createElement(MDXTag, {\n        name: \"path\",\n        components: components,\n        parentName: \"svg\",\n        props: {\n          \"fillRule\": \"evenodd\",\n          \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n        }\n      }))), \"Caveats\"), React.createElement(MDXTag, {\n        name: \"p\",\n        components: components\n      }, \"No \", React.createElement(MDXTag, {\n        name: \"em\",\n        components: components,\n        parentName: \"p\"\n      }, \"serious\"), \" thoughts around security, VPC or custom domain configuration. Or proper logging. Or lots of other\\nimportant stuff.\"), React.createElement(MDXTag, {\n        name: \"h2\",\n        components: components,\n        props: {\n          \"id\": \"acknowledgements\",\n          \"style\": {\n            \"position\": \"relative\"\n          }\n        }\n      }, React.createElement(MDXTag, {\n        name: \"a\",\n        components: components,\n        parentName: \"h2\",\n        props: {\n          \"href\": \"#acknowledgements\",\n          \"aria-label\": \"acknowledgements permalink\",\n          \"className\": \"anchor before\"\n        }\n      }, React.createElement(MDXTag, {\n        name: \"svg\",\n        components: components,\n        parentName: \"a\",\n        props: {\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }\n      }, React.createElement(MDXTag, {\n        name: \"path\",\n        components: components,\n        parentName: \"svg\",\n        props: {\n          \"fillRule\": \"evenodd\",\n          \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n        }\n      }))), \"Acknowledgements\"), React.createElement(MDXTag, {\n        name: \"ul\",\n        components: components\n      }, React.createElement(MDXTag, {\n        name: \"li\",\n        components: components,\n        parentName: \"ul\"\n      }, \"AWS - Labs\\u2019s \", React.createElement(MDXTag, {\n        name: \"a\",\n        components: components,\n        parentName: \"li\",\n        props: {\n          \"href\": \"https://github.com/awslabs/aws-refarch-cross-account-pipeline\"\n        }\n      }, \"aws-refarch-cross-account-pipeline\")), React.createElement(MDXTag, {\n        name: \"li\",\n        components: components,\n        parentName: \"ul\"\n      }, React.createElement(MDXTag, {\n        name: \"a\",\n        components: components,\n        parentName: \"li\",\n        props: {\n          \"href\": \"https://stackoverflow.com/a/28384498/4304123\"\n        }\n      }, \"This\"), \"\\nStack Overflow answer on default security groups\"), React.createElement(MDXTag, {\n        name: \"li\",\n        components: components,\n        parentName: \"ul\"\n      }, \"CircleCI \", React.createElement(MDXTag, {\n        name: \"a\",\n        components: components,\n        parentName: \"li\",\n        props: {\n          \"href\": \"https://circleci.com/blog/minimize-risk-using-the-principle-of-least-privilege-and-aws-iam-permissions/\"\n        }\n      }, \"blog post\"), \"\\nthat provides an introduction to the principle of least privilege\")));\n    }\n  }]);\n\n  return MDXContent;\n}(React.Component);\n\nreturn MDXContent;\nMDXContent.isMDXComponent = true;"}}},"pageContext":{"slug":"/blog/codepipeline/"}}}