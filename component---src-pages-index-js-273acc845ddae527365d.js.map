{"version":3,"sources":["webpack:///./node_modules/react-medium-image-zoom/lib/defaults.js","webpack:///./node_modules/react-medium-image-zoom/lib/ImageZoom.js","webpack:///./src/components/ZoomImage.js","webpack:///./src/pages/index.js","webpack:///./node_modules/react-medium-image-zoom/lib/Zoom.js","webpack:///./node_modules/react-medium-image-zoom/lib/index.js","webpack:///./node_modules/react-medium-image-zoom/lib/EventsWrapper.js","webpack:///./static/images/home/beinn-chuirn-zoom.jpg","webpack:///./static/images/home/beinn-chuirn.jpg","webpack:///./node_modules/react-medium-image-zoom/lib/helpers.js","webpack:///./node_modules/react-medium-image-zoom/lib/Overlay.js","webpack:///./static/images/home/ama-dablam-zoom.jpg","webpack:///./static/images/home/ama-dablam.jpg","webpack:///./node_modules/react-medium-image-zoom/lib/keyboardEvents.js","webpack:///./node_modules/core-js/modules/es6.number.constructor.js"],"names":["Object","defineProperty","exports","value","defaults","errors","controlled","uncontrolled","styles","image","cursor","zoomImage","position","transition","transform","transformOrigin","willChange","zoomContainer","top","right","bottom","left","zIndex","overlay","backgroundColor","opacity","transitionDuration","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react","_react2","_interopRequireDefault","_propTypes","_defaults2","_helpers","_keyboardEvents","_EventsWrapper2","_Zoom2","obj","__esModule","isControlled","isZoomed","ImageZoom","_Component","instance","TypeError","_classCallCheck","this","_this","self","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","state","isDisabled","wasZoomed","src","prevSrc","isClosing","_handleKeyDown","bind","_handleLoad","_handleLoadError","_handleUnzoom","_handleZoom","subClass","superClass","create","constructor","setPrototypeOf","_inherits","prevProps","prevState","Error","prevIsZoomed","portalInstance","unzoom","force","_this2","_props","defaultStyles","propsIsZoomed","shouldRespectMaxDimension","zoomMargin","_state","stateIsZoomed","attrs","tabIndex","style","_getImageStyle","onMouseDown","_preventFocus","onClick","onKeyDown","createElement","Fragment","ref","x","onLoad","onError","node","controlledEventFn","_getControlledEventFn","allowAccessibilityClose","_allowTabNavigation","Number","onUnzoom","_props2","isMaxDimension","setState","_props3","isZoomedP","_state2","isZoomedSt","isHidden","visibility","e","_checkShouldDisableComponent","Function","isEnterOrSpaceBarKey","preventDefault","shouldHandleZoom","onZoom","allowRefocus","_this3","changes","shouldReplaceImage","focus","get","Component","propTypes","shape","string","isRequired","alt","className","object","bool","func","StyledFigcaption","styled","figcaption","ZoomImage","zoomSrc","caption","photoCaptionMap","one","photo","beinnChuirn","zoom","beinnChuirnZoom","two","amaDablam","amaDablamZoom","Index","Layout","_Overlay2","Zoom","hasLoaded","currentSrc","tmpSrc","_handleImageLoad","_props$zoomImage","srcSet","fetchImage","setTimeout","_getZoomImageStyle","_getZoomContainerStyle","isVisible","TmpImg","img","imageOffset","getBoundingClientRect","width","height","naturalWidth","naturalHeight","viewportX","document","body","clientWidth","viewportY","window","innerHeight","zoomStyle","getMaxDimensionScale","getScale","number","_ref","keys","indexOf","_objectWithoutProperties","getTmpStyle","tmpStyle","_ImageZoom","_ImageZoom2","_reactDom","EventsWrapper","portal","createPortalContainer","_handleScroll","_handleResize","_handleTouchStart","_handleTouchMove","_handleTouchEnd","pageYOffset","loadTimeout","addEventListener","clearTimeout","removeEventListener","removePortalContainer","createPortal","_cloneChild","undefined","child","cloneElement","Children","only","children","isTabKey","unzoomForEnterOrSpace","unzoomForEscape","isEscapeKey","forceUpdate","Math","abs","yTouchPosition","touches","clientY","element","getControlledEventFn","module","tag","appendChild","removeChild","cb","sizes","Image","srcset","scaleX","innerWidth","scaleY","min","_ref2","scale","ratio","clientHeight","Overlay","_PureComponent","isMounted","_getStyle","PureComponent","enterKey","keyCode","isKey","isSpaceBarKey","global","has","cof","inheritIfRequired","toPrimitive","fails","gOPN","f","gOPD","dP","$trim","trim","$Number","Base","proto","BROKEN_COF","TRIM","String","toNumber","argument","it","third","radix","maxCode","first","charCodeAt","NaN","code","digits","slice","l","parseInt","that","valueOf","split","j"],"mappings":"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","file":"component---src-pages-index-js-273acc845ddae527365d.js","sourcesContent":["'use strict';\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar transitionDuration = 300;\nvar defaults = {\n  errors: {\n    controlled: 'A component is changing a react-medium-image-zoom component from a controlled component to an uncontrolled one. ImageZoom elements should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled image zoom element for the lifetime of the component.',\n    uncontrolled: 'A component is changing a react-medium-image-zoom component from an uncontrolled component to a controlled one. ImageZoom elements should not switch from uncontrolled to controlled (or vice versa). Decide between using a controlled or uncontrolled image zoom element for the lifetime of the component.'\n  },\n  styles: {\n    image: {\n      cursor: 'zoom-in'\n    },\n    zoomImage: {\n      cursor: 'zoom-out',\n      position: 'absolute',\n      transition: 'transform ' + transitionDuration + 'ms',\n      transform: 'translate3d(0, 0, 0) scale(1)',\n      transformOrigin: 'center center',\n      willChange: 'transform, top, left'\n    },\n    zoomContainer: {\n      position: 'fixed',\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      zIndex: 999\n    },\n    overlay: {\n      position: 'absolute',\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      backgroundColor: '#fff',\n      opacity: 0,\n      transition: 'opacity ' + transitionDuration + 'ms'\n    }\n  },\n  transitionDuration: transitionDuration\n};\nexports[\"default\"] = defaults;","'use strict';\n\nrequire(\"core-js/modules/es6.number.constructor\");\n\nrequire(\"core-js/modules/es6.function.bind\");\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _defaults = require('./defaults');\n\nvar _defaults2 = _interopRequireDefault(_defaults);\n\nvar _helpers = require('./helpers');\n\nvar _keyboardEvents = require('./keyboardEvents');\n\nvar _EventsWrapper = require('./EventsWrapper');\n\nvar _EventsWrapper2 = _interopRequireDefault(_EventsWrapper);\n\nvar _Zoom = require('./Zoom');\n\nvar _Zoom2 = _interopRequireDefault(_Zoom);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar isControlled = function isControlled(isZoomed) {\n  return isZoomed !== null && isZoomed !== undefined;\n};\n\nvar focusableTabIndex = 0;\nvar unfocusableTabIndex = -1;\n\nvar ImageZoom = function (_Component) {\n  _inherits(ImageZoom, _Component);\n\n  function ImageZoom(props) {\n    _classCallCheck(this, ImageZoom);\n\n    var _this = _possibleConstructorReturn(this, (ImageZoom.__proto__ || Object.getPrototypeOf(ImageZoom)).call(this, props));\n\n    _this.state = {\n      isDisabled: false,\n      isZoomed: false,\n      wasZoomed: false,\n      src: props.image.src,\n      prevSrc: props.image.src,\n      isClosing: false\n    };\n    _this._handleKeyDown = _this._handleKeyDown.bind(_this);\n    _this._handleLoad = _this._handleLoad.bind(_this);\n    _this._handleLoadError = _this._handleLoadError.bind(_this);\n    _this._handleUnzoom = _this._handleUnzoom.bind(_this);\n    _this._handleZoom = _this._handleZoom.bind(_this);\n    return _this;\n  }\n\n  _createClass(ImageZoom, [{\n    key: 'componentDidUpdate',\n\n    /**\n     * When the component's state updates, check for changes\n     * and either zoom or start the unzoom procedure.\n     * NOTE: We need to differentiate whether this is a\n     * controlled or uncontrolled component and do the check\n     * based off of that.\n     */\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (!isControlled(prevProps.isZoomed) && isControlled(this.props.isZoomed)) {\n        throw new Error(_defaults2[\"default\"].errors.uncontrolled);\n      } else if (isControlled(prevProps.isZoomed) && !isControlled(this.props.isZoomed)) {\n        throw new Error(_defaults2[\"default\"].errors.controlled);\n      }\n\n      var prevIsZoomed = isControlled(prevProps.isZoomed) ? prevProps.isZoomed : prevState.isZoomed;\n      var isZoomed = isControlled(this.props.isZoomed) ? this.props.isZoomed : this.state.isZoomed;\n\n      if (prevIsZoomed !== isZoomed && !isZoomed && this.portalInstance) {\n        this.portalInstance.unzoom({\n          force: true\n        });\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          defaultStyles = _props.defaultStyles,\n          image = _props.image,\n          propsIsZoomed = _props.isZoomed,\n          shouldRespectMaxDimension = _props.shouldRespectMaxDimension,\n          zoomImage = _props.zoomImage,\n          zoomMargin = _props.zoomMargin,\n          _state = this.state,\n          isDisabled = _state.isDisabled,\n          stateIsZoomed = _state.isZoomed,\n          src = _state.src,\n          isClosing = _state.isClosing;\n      /**\n       * Take whatever attributes you want to pass the image\n       * and then override with the properties we need,\n       * including using state as source of truth for hi/low-res\n       * version img src.\n       * Also, disable any clicking if the component is\n       * already at its maximum dimensions.\n       */\n\n      var attrs = _extends({}, !isDisabled && {\n        tabIndex: focusableTabIndex\n      }, image, {\n        src: src,\n        style: this._getImageStyle()\n      }, !isDisabled && {\n        onMouseDown: this._preventFocus,\n        onClick: this._handleZoom,\n        onKeyDown: this._handleKeyDown\n      });\n\n      var isZoomed = isControlled(propsIsZoomed) ? propsIsZoomed : stateIsZoomed;\n      return _react2[\"default\"].createElement(_react.Fragment, null, _react2[\"default\"].createElement('img', _extends({}, attrs, {\n        key: 'image',\n        ref: function ref(x) {\n          _this2.image = x;\n        },\n        onLoad: this._handleLoad,\n        onError: this._handleLoadError\n      })), this.image && (isZoomed || isClosing) ? _react2[\"default\"].createElement(_EventsWrapper2[\"default\"], {\n        key: 'portal',\n        ref: function ref(node) {\n          _this2.portalInstance = node;\n        },\n        controlledEventFn: this._getControlledEventFn(),\n        allowAccessibilityClose: this._allowTabNavigation()\n      }, _react2[\"default\"].createElement(_Zoom2[\"default\"], {\n        defaultStyles: defaultStyles,\n        image: this.image,\n        shouldRespectMaxDimension: shouldRespectMaxDimension,\n        zoomImage: zoomImage,\n        zoomMargin: Number(zoomMargin),\n        onUnzoom: this._handleUnzoom\n      })) : null);\n    }\n    /**\n     * If the image should not exceed its original\n     * dimensions AND there is no zoomImage AND the\n     * image is already rendered at its maximum dimensions,\n     * then we shouldn't try to zoom it at all. We currently\n     * only do this on componentDidMount, though on window\n     * resize could be something to consider if necessary.\n     */\n\n  }, {\n    key: '_checkShouldDisableComponent',\n    value: function _checkShouldDisableComponent() {\n      var _props2 = this.props,\n          shouldRespectMaxDimension = _props2.shouldRespectMaxDimension,\n          zoomImage = _props2.zoomImage;\n      var isDisabled = shouldRespectMaxDimension && !zoomImage && (0, _helpers.isMaxDimension)(this.image);\n      this.setState({\n        isDisabled: isDisabled\n      });\n    }\n  }, {\n    key: '_getImageStyle',\n    value: function _getImageStyle() {\n      var _props3 = this.props,\n          defaultStyles = _props3.defaultStyles,\n          image = _props3.image,\n          isZoomedP = _props3.isZoomed,\n          _state2 = this.state,\n          isDisabled = _state2.isDisabled,\n          isZoomedSt = _state2.isZoomed,\n          isClosing = _state2.isClosing;\n      var isHidden = isZoomedSt || isZoomedP || isClosing;\n      return _extends({}, _defaults2[\"default\"].styles.image, isHidden && {\n        visibility: 'hidden'\n      }, defaultStyles.image, image.style, isDisabled && {\n        cursor: 'inherit'\n      });\n    }\n    /**\n     * We need to wait for the main image\n     * to load before we can do any width/height\n     * checks on it.\n     */\n\n  }, {\n    key: '_handleLoad',\n    value: function _handleLoad(e) {\n      this._checkShouldDisableComponent();\n\n      var cb = this.props.image.onLoad || Function.prototype;\n      cb(e);\n    }\n  }, {\n    key: '_handleLoadError',\n    value: function _handleLoadError(e) {\n      this.setState({\n        isDisabled: true\n      });\n      var cb = this.props.image.onError || Function.prototype;\n      cb(e);\n    }\n  }, {\n    key: '_handleKeyDown',\n    value: function _handleKeyDown(e) {\n      if ((0, _keyboardEvents.isEnterOrSpaceBarKey)(e)) {\n        e.preventDefault();\n\n        this._handleZoom(e);\n      }\n    }\n  }, {\n    key: '_preventFocus',\n    value: function _preventFocus(e) {\n      e.preventDefault();\n    }\n  }, {\n    key: '_handleZoom',\n    value: function _handleZoom(e) {\n      if (!isControlled(this.props.isZoomed) && this.props.shouldHandleZoom(e)) {\n        this.setState({\n          isZoomed: true\n        }, this.props.onZoom);\n      } else {\n        this.props.onZoom();\n      }\n    }\n    /**\n     * This gets passed to the zoomed component as a callback\n     * to trigger when the time is right to shut down the zoom.\n     * If `shouldReplaceImage`, update the normal image we're showing\n     * with the zoomed image -- useful when wanting to replace a low-res\n     * image with a high-res one once it's already been downloaded.\n     * It also cleans up the zoom references and then updates state.\n     */\n\n  }, {\n    key: '_handleUnzoom',\n    value: function _handleUnzoom(src, allowRefocus) {\n      var _this3 = this;\n\n      return function () {\n        var changes = _extends({\n          isZoomed: false,\n          isClosing: false\n        }, _this3.props.shouldReplaceImage && {\n          src: src\n        });\n\n        _this3.setState(changes, _this3.props.onUnzoom);\n\n        if (allowRefocus && _this3._allowTabNavigation()) {\n          _this3.image.focus();\n        }\n      };\n    }\n  }, {\n    key: '_getControlledEventFn',\n    value: function _getControlledEventFn() {\n      return isControlled(this.props.isZoomed) ? this.props.onUnzoom : null;\n    }\n  }, {\n    key: '_allowTabNavigation',\n    value: function _allowTabNavigation() {\n      return this.image && this.image.tabIndex !== unfocusableTabIndex;\n    }\n  }], [{\n    key: 'getDerivedStateFromProps',\n    value: function getDerivedStateFromProps(props, state) {\n      /**\n       * When component is controlled, we need a flag\n       * set when it's about to close in order to keep\n       * hiding the original image on the page until the\n       * unzooming is complete\n       */\n      var isClosing = state.wasZoomed && !props.isZoomed || state.isClosing; // If the consumer wants to change the image's src, then so be it.\n\n      var src = props.image.src !== state.prevSrc ? props.image.src : state.src;\n      return {\n        src: src,\n        isClosing: isClosing,\n        // Keep track of previous props\n        wasZoomed: props.isZoomed,\n        prevSrc: props.image.src\n      };\n    }\n  }, {\n    key: 'defaultProps',\n    get: function get() {\n      return {\n        shouldReplaceImage: true,\n        shouldRespectMaxDimension: false,\n        zoomMargin: 40,\n        defaultStyles: {\n          zoomContainer: {},\n          overlay: {},\n          image: {},\n          zoomImage: {}\n        },\n        shouldHandleZoom: function shouldHandleZoom() {\n          return true;\n        },\n        onZoom: function onZoom() {},\n        onUnzoom: function onUnzoom() {}\n      };\n    }\n  }]);\n\n  return ImageZoom;\n}(_react.Component);\n\nexports[\"default\"] = ImageZoom;\nImageZoom.propTypes = {\n  image: (0, _propTypes.shape)({\n    src: _propTypes.string.isRequired,\n    alt: _propTypes.string,\n    className: _propTypes.string,\n    style: _propTypes.object\n  }).isRequired,\n  zoomImage: (0, _propTypes.shape)({\n    src: _propTypes.string,\n    alt: _propTypes.string,\n    className: _propTypes.string,\n    style: _propTypes.object\n  }),\n  defaultStyles: _propTypes.object,\n  isZoomed: _propTypes.bool,\n  shouldHandleZoom: _propTypes.func,\n  shouldReplaceImage: _propTypes.bool,\n  shouldRespectMaxDimension: _propTypes.bool,\n  onZoom: _propTypes.func,\n  onUnzoom: _propTypes.func\n};","import React from 'react';\nimport ImageZoom from 'react-medium-image-zoom';\nimport styled from 'styled-components';\n\nconst StyledFigcaption = styled.figcaption`\n  text-align: right;\n  font-size: 0.8em;\n  padding 0.25em 0;\n  color: #999;\n`;\n\nconst ZoomImage = ({ src, zoomSrc, alt, caption }) => {\n  return (\n    <figure>\n      <ImageZoom\n        image={{\n          src: src,\n          alt: alt || caption\n        }}\n        zoomImage={{\n          src: zoomSrc || src,\n          alt: alt || caption\n        }}\n      />\n\n      {caption && <StyledFigcaption>{caption}</StyledFigcaption>}\n    </figure>\n  );\n};\n\nexport default ZoomImage;\n","import React from 'react';\n\nimport Layout from './../components/Layout';\nimport ZoomImage from \"../components/ZoomImage\";\n\nimport beinnChuirn from '../../static/images/home/beinn-chuirn.jpg';\nimport beinnChuirnZoom from '../../static/images/home/beinn-chuirn-zoom.jpg';\nimport amaDablam from '../../static/images/home/ama-dablam.jpg';\nimport amaDablamZoom from '../../static/images/home/ama-dablam-zoom.jpg';\n\nconst photoCaptionMap = {\n    one:\n        {\n            photo: beinnChuirn,\n            zoom: beinnChuirnZoom,\n            caption: 'Beinn Chùirn, Scotland. August, 2019.'\n        },\n    two:\n        {\n            photo: amaDablam,\n            zoom: amaDablamZoom,\n            caption: 'Ama Dablam, Nepal. November, 2019.'\n        },\n}\n\n// const randomPhoto = () => {\n//     const keys = Object.keys(photoCaptionMap);\n//     return photoCaptionMap[keys[keys.length * Math.random() << 0]];\n// }\n//\n// const aRandomPhoto = randomPhoto()\n\nconst Index = () => (\n    <Layout>\n        <div className=\"home-image\">\n            <ZoomImage src={photoCaptionMap.two.photo} zoomSrc={photoCaptionMap.two.zoom}\n                       caption={photoCaptionMap.two.caption}/>\n        </div>\n    </Layout>\n);\n\nexport default Index;\n","'use strict';\n\nrequire(\"core-js/modules/es6.function.bind\");\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _defaults = require('./defaults');\n\nvar _defaults2 = _interopRequireDefault(_defaults);\n\nvar _helpers = require('./helpers');\n\nvar _Overlay = require('./Overlay');\n\nvar _Overlay2 = _interopRequireDefault(_Overlay);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n/**\n * The `tmpSrc` and `TmpImg` code here is a workaround\n * for a longstanding Firefox issue where replacing the\n * `src` of an `<img>` tag requires calculations and\n * results in a \"flicker\" of sorts.\n *\n * See https://github.com/rpearce/react-medium-image-zoom/issues/96\n * for further details.\n */\n\n\nvar Zoom = function (_Component) {\n  _inherits(Zoom, _Component);\n\n  function Zoom(props) {\n    _classCallCheck(this, Zoom);\n\n    var _this = _possibleConstructorReturn(this, (Zoom.__proto__ || Object.getPrototypeOf(Zoom)).call(this, props));\n\n    _this.state = {\n      hasLoaded: false,\n      isZoomed: true,\n      src: props.image.currentSrc || props.image.src,\n      tmpSrc: null\n    };\n    _this.unzoom = _this.unzoom.bind(_this);\n    _this._handleImageLoad = _this._handleImageLoad.bind(_this);\n    return _this;\n  }\n\n  _createClass(Zoom, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _props$zoomImage = this.props.zoomImage,\n          src = _props$zoomImage.src,\n          srcSet = _props$zoomImage.srcSet;\n      this.setState({\n        hasLoaded: true\n      });\n\n      if (src || srcSet) {\n        (0, _helpers.fetchImage)(this.props.zoomImage, this._handleImageLoad);\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _this2 = this; // If we have a `tmpSrc`, wait and then give it to `src`\n\n\n      if (!prevState.tmpSrc && this.state.tmpSrc) {\n        setTimeout(function () {\n          _this2.setState({\n            src: _this2.state.tmpSrc,\n            tmpSrc: null\n          });\n        }, 100);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          defaultStyles = _props.defaultStyles,\n          zoomImage = _props.zoomImage,\n          _state = this.state,\n          tmpSrc = _state.tmpSrc,\n          isZoomed = _state.isZoomed,\n          src = _state.src;\n\n      var style = this._getZoomImageStyle();\n\n      return _react2[\"default\"].createElement('div', {\n        style: this._getZoomContainerStyle()\n      }, _react2[\"default\"].createElement(_Overlay2[\"default\"], {\n        isVisible: isZoomed,\n        defaultStyles: defaultStyles\n      }), _react2[\"default\"].createElement('img', _extends({}, zoomImage, {\n        src: src,\n        style: style\n      })), _react2[\"default\"].createElement(TmpImg, _extends({}, zoomImage, {\n        src: tmpSrc,\n        style: style\n      })));\n    }\n  }, {\n    key: 'unzoom',\n    value: function unzoom(allowRefocus) {\n      var onUnzoom = this.props.onUnzoom(this.state.src, allowRefocus);\n      this.setState({\n        isZoomed: false\n      }, function () {\n        return setTimeout(onUnzoom, _defaults2[\"default\"].transitionDuration);\n      });\n    }\n  }, {\n    key: '_handleImageLoad',\n    value: function _handleImageLoad(img) {\n      // Only set state if component is still mounted\n      if (this.state.isZoomed) {\n        this.setState({\n          tmpSrc: img.currentSrc || img.src\n        });\n      }\n    }\n  }, {\n    key: '_getZoomContainerStyle',\n    value: function _getZoomContainerStyle() {\n      return _extends({}, _defaults2[\"default\"].styles.zoomContainer, this.props.defaultStyles.zoomContainer);\n    }\n  }, {\n    key: '_getZoomImageStyle',\n    value: function _getZoomImageStyle() {\n      var _props2 = this.props,\n          image = _props2.image,\n          shouldRespectMaxDimension = _props2.shouldRespectMaxDimension,\n          src = _props2.src,\n          zoomMargin = _props2.zoomMargin;\n      var imageOffset = image.getBoundingClientRect();\n      var top = imageOffset.top,\n          left = imageOffset.left;\n      var width = image.width,\n          height = image.height,\n          naturalWidth = image.naturalWidth,\n          naturalHeight = image.naturalHeight;\n      var style = {\n        top: top,\n        left: left,\n        width: width,\n        height: height\n      };\n\n      if (!this.state.hasLoaded || !this.state.isZoomed) {\n        return _extends({}, _defaults2[\"default\"].styles.zoomImage, this.props.defaultStyles.zoomImage, this.props.style, style);\n      } // Get the the coords for center of the viewport\n\n\n      var viewportX = document.body.clientWidth / 2;\n      var viewportY = window.innerHeight / 2; // Get the coords for center of the original image\n\n      var imageCenterX = imageOffset.left + width / 2;\n      var imageCenterY = imageOffset.top + height / 2; // Get offset amounts for image coords to be centered on screen\n\n      var translateX = viewportX - imageCenterX;\n      var translateY = viewportY - imageCenterY; // Figure out how much to scale the image\n\n      var scale = shouldRespectMaxDimension && !src ? (0, _helpers.getMaxDimensionScale)({\n        width: width,\n        height: height,\n        naturalWidth: naturalWidth,\n        naturalHeight: naturalHeight,\n        zoomMargin: zoomMargin\n      }) : (0, _helpers.getScale)({\n        width: width,\n        height: height,\n        zoomMargin: zoomMargin\n      });\n      var zoomStyle = {\n        transform: 'translate3d(' + translateX + 'px, ' + translateY + 'px, 0) scale(' + scale + ')'\n      };\n      return _extends({}, _defaults2[\"default\"].styles.zoomImage, this.props.defaultStyles.zoomImage, this.props.style, style, zoomStyle);\n    }\n  }], [{\n    key: 'defaultProps',\n    get: function get() {\n      return {\n        zoomImage: {}\n      };\n    }\n  }]);\n\n  return Zoom;\n}(_react.Component);\n\nexports[\"default\"] = Zoom;\nZoom.propTypes = {\n  defaultStyles: _propTypes.object.isRequired,\n  image: _propTypes.object.isRequired,\n  shouldRespectMaxDimension: _propTypes.bool,\n  zoomImage: (0, _propTypes.shape)({\n    src: _propTypes.string,\n    alt: _propTypes.string,\n    className: _propTypes.string,\n    style: _propTypes.object\n  }).isRequired,\n  zoomMargin: _propTypes.number.isRequired,\n  onUnzoom: _propTypes.func.isRequired\n};\n\nvar TmpImg = function TmpImg(_ref) {\n  var src = _ref.src,\n      style = _ref.style,\n      props = _objectWithoutProperties(_ref, ['src', 'style']);\n\n  return src ? _react2[\"default\"].createElement('img', _extends({}, props, {\n    src: src,\n    style: getTmpStyle(style)\n  })) : null;\n};\n\nvar tmpStyle = {\n  position: 'fixed',\n  visibility: 'hidden'\n};\n\nvar getTmpStyle = function getTmpStyle(style) {\n  return _extends({}, style, tmpStyle);\n};","'use strict';\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _ImageZoom = require('./ImageZoom');\n\nvar _ImageZoom2 = _interopRequireDefault(_ImageZoom);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nexports[\"default\"] = _ImageZoom2[\"default\"];","'use strict';\n\nrequire(\"core-js/modules/es6.function.bind\");\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _propTypes = require('prop-types');\n\nvar _defaults = require('./defaults');\n\nvar _defaults2 = _interopRequireDefault(_defaults);\n\nvar _helpers = require('./helpers');\n\nvar _keyboardEvents = require('./keyboardEvents');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar EventsWrapper = function (_Component) {\n  _inherits(EventsWrapper, _Component);\n\n  function EventsWrapper() {\n    _classCallCheck(this, EventsWrapper);\n\n    var _this = _possibleConstructorReturn(this, (EventsWrapper.__proto__ || Object.getPrototypeOf(EventsWrapper)).call(this));\n\n    _this.portal = (0, _helpers.createPortalContainer)('div');\n    _this.unzoom = _this.unzoom.bind(_this);\n    _this._handleScroll = _this._handleScroll.bind(_this);\n    _this._handleKeyDown = _this._handleKeyDown.bind(_this);\n    _this._handleResize = _this._handleResize.bind(_this);\n    _this._handleTouchStart = _this._handleTouchStart.bind(_this);\n    _this._handleTouchMove = _this._handleTouchMove.bind(_this);\n    _this._handleTouchEnd = _this._handleTouchEnd.bind(_this);\n    return _this;\n  }\n\n  _createClass(EventsWrapper, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.pageYOffset = window.pageYOffset;\n      this.loadTimeout = setTimeout(function () {\n        window.addEventListener('scroll', _this2._handleScroll);\n        window.addEventListener('keydown', _this2._handleKeyDown);\n        window.addEventListener('ontouchstart', _this2._handleTouchStart);\n        window.addEventListener('ontouchmove', _this2._handleTouchMove);\n        window.addEventListener('ontouchend', _this2._handleTouchEnd);\n        window.addEventListener('ontouchcancel', _this2._handleTouchEnd);\n        window.addEventListener('resize', _this2._handleResize);\n      }, _defaults2[\"default\"].transitionDuration);\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      clearTimeout(this.loadTimeout);\n      window.removeEventListener('scroll', this._handleScroll);\n      window.removeEventListener('keydown', this._handleKeyDown);\n      window.removeEventListener('ontouchstart', this._handleTouchStart);\n      window.removeEventListener('ontouchmove', this._handleTouchMove);\n      window.removeEventListener('ontouchend', this._handleTouchEnd);\n      window.removeEventListener('ontouchcancel', this._handleTouchEnd);\n      window.removeEventListener('resize', this._handleResize);\n      (0, _helpers.removePortalContainer)(this.portal);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return this.portal ? (0, _reactDom.createPortal)(_react2[\"default\"].createElement('div', {\n        onClick: this.unzoom\n      }, this._cloneChild()), this.portal) : null;\n    }\n  }, {\n    key: 'unzoom',\n    value: function unzoom() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          force = _ref.force,\n          allowRefocus = _ref.allowRefocus;\n\n      if (this.props.controlledEventFn && !force) {\n        return this.props.controlledEventFn();\n      }\n\n      return this.child.unzoom(allowRefocus);\n    }\n  }, {\n    key: '_cloneChild',\n    value: function _cloneChild() {\n      var _this3 = this;\n\n      return _react2[\"default\"].cloneElement(_react2[\"default\"].Children.only(this.props.children), {\n        ref: function ref(child) {\n          _this3.child = child;\n        }\n      });\n    }\n  }, {\n    key: '_handleKeyDown',\n    value: function _handleKeyDown(e) {\n      if ((0, _keyboardEvents.isTabKey)(e)) {\n        e.preventDefault(); // prevent in-behind controls from grabbing focus\n\n        return;\n      }\n\n      var allowAccessibilityClose = this.props.allowAccessibilityClose;\n      var unzoomForEnterOrSpace = allowAccessibilityClose && (0, _keyboardEvents.isEnterOrSpaceBarKey)(e);\n      var unzoomForEscape = (0, _keyboardEvents.isEscapeKey)(e);\n\n      if (unzoomForEnterOrSpace) {\n        e.preventDefault(); // prevent space bar from scrolling\n      }\n\n      if (unzoomForEnterOrSpace || unzoomForEscape) {\n        this.unzoom({\n          allowRefocus: true\n        });\n      }\n    }\n  }, {\n    key: '_handleResize',\n    value: function _handleResize() {\n      this.forceUpdate();\n    }\n  }, {\n    key: '_handleScroll',\n    value: function _handleScroll() {\n      this.forceUpdate();\n      var scrollChange = Math.abs(window.pageYOffset - this.pageYOffset);\n\n      if (scrollChange > 10) {\n        this.unzoom();\n      }\n    }\n  }, {\n    key: '_handleTouchStart',\n    value: function _handleTouchStart(e) {\n      this.yTouchPosition = e.touches[0].clientY;\n    }\n  }, {\n    key: '_handleTouchMove',\n    value: function _handleTouchMove(e) {\n      this.forceUpdate();\n      var touchChange = Math.abs(e.touches[0].clientY - this.yTouchPosition);\n\n      if (touchChange > 10) {\n        this.unzoom();\n      }\n    }\n  }, {\n    key: '_handleTouchEnd',\n    value: function _handleTouchEnd() {\n      delete this.yTouchPosition;\n    }\n  }]);\n\n  return EventsWrapper;\n}(_react.Component);\n\nexports[\"default\"] = EventsWrapper;\nEventsWrapper.propTypes = {\n  children: _propTypes.element.isRequired,\n  getControlledEventFn: _propTypes.func\n};","module.exports = __webpack_public_path__ + \"static/beinn-chuirn-zoom-ec938f660cda7d5d1fb4d7958527d6a3.jpg\";","module.exports = __webpack_public_path__ + \"static/beinn-chuirn-dbc7cff3108f932c56c7daefaa2682fb.jpg\";","'use strict';\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar createPortalContainer = exports.createPortalContainer = function createPortalContainer(tag) {\n  var portal = document.createElement(tag);\n  document.body.appendChild(portal);\n  return portal;\n};\n\nvar removePortalContainer = exports.removePortalContainer = function removePortalContainer(portal) {\n  document.body.removeChild(portal);\n};\n\nvar fetchImage = exports.fetchImage = function fetchImage(image, cb) {\n  var src = image.src,\n      srcSet = image.srcSet,\n      sizes = image.sizes;\n  var img = new Image();\n\n  var onLoad = function onLoad() {\n    cb(img);\n    /**\n     * If using srcset, future resize events can trigger\n     * additional onload events to fire.\n     * Remove listener after first load\n     */\n\n    img.removeEventListener('load', onLoad);\n  };\n\n  img.addEventListener('load', onLoad);\n  img.src = src;\n  if (srcSet) img.srcset = srcSet;\n  if (sizes) img.sizes = sizes;\n};\n/**\n * Figure out how much to scale based\n * solely on no maxing out the browser\n */\n\n\nvar getScale = exports.getScale = function getScale(_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      zoomMargin = _ref.zoomMargin;\n  var scaleX = window.innerWidth / (width + zoomMargin);\n  var scaleY = window.innerHeight / (height + zoomMargin);\n  return Math.min(scaleX, scaleY);\n};\n/**\n * Figure out how much to scale so you're\n * not larger than the original image\n */\n\n\nvar getMaxDimensionScale = exports.getMaxDimensionScale = function getMaxDimensionScale(_ref2) {\n  var width = _ref2.width,\n      height = _ref2.height,\n      naturalWidth = _ref2.naturalWidth,\n      naturalHeight = _ref2.naturalHeight,\n      zoomMargin = _ref2.zoomMargin;\n  var scale = getScale({\n    width: naturalWidth,\n    height: naturalHeight,\n    zoomMargin: zoomMargin\n  });\n  var ratio = naturalWidth > naturalHeight ? naturalWidth / width : naturalHeight / height;\n  return scale > 1 ? ratio : scale * ratio;\n};\n\nvar isMaxDimension = exports.isMaxDimension = function isMaxDimension(img) {\n  return img.clientWidth >= img.naturalWidth || img.clientHeight >= img.naturalHeight;\n};","'use strict';\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _defaults = require('./defaults');\n\nvar _defaults2 = _interopRequireDefault(_defaults);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar Overlay = function (_PureComponent) {\n  _inherits(Overlay, _PureComponent);\n\n  function Overlay(props) {\n    _classCallCheck(this, Overlay);\n\n    var _this = _possibleConstructorReturn(this, (Overlay.__proto__ || Object.getPrototypeOf(Overlay)).call(this, props));\n\n    _this.state = {\n      isMounted: false\n    };\n    return _this;\n  }\n\n  _createClass(Overlay, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.setState({\n        isMounted: true\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2[\"default\"].createElement('div', {\n        style: this._getStyle()\n      });\n    }\n  }, {\n    key: '_getStyle',\n    value: function _getStyle() {\n      var isVisible = this.state.isMounted && this.props.isVisible;\n      var opacity = isVisible & 1; // bitwise and; converts bool to 0 or 1\n\n      return _extends({}, _defaults2[\"default\"].styles.overlay, {\n        opacity: opacity\n      }, this.props.defaultStyles.overlay);\n    }\n  }]);\n\n  return Overlay;\n}(_react.PureComponent);\n\nexports[\"default\"] = Overlay;\nOverlay.propTypes = {\n  isVisible: _propTypes.bool.isRequired,\n  defaultStyles: _propTypes.object.isRequired\n};","module.exports = __webpack_public_path__ + \"static/ama-dablam-zoom-d9d2c3b22e8382c82b2755bf619f6620.jpg\";","module.exports = __webpack_public_path__ + \"static/ama-dablam-a5649291ca82ae0680fca0eb00dc0da7.jpg\";","'use strict';\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar enterKey = {\n  keys: ['Enter'],\n  keyCode: 13\n};\nvar tabKey = {\n  keys: ['Tab'],\n  keyCode: 9\n};\nvar spaceBarKey = {\n  keys: [' '],\n  keyCode: 32\n};\nvar escapeKey = {\n  keys: ['Escape', 'Esc'],\n  keyCode: 27\n  /**\n   * Per the MDN, KeyboardEvent.keyCode and KeyboardEvent.which\n   * are deprecated. KeyboardEvent.code is not to be used to\n   * determine what character corresponds with a key event\n   * and is also not supported on Edge. KeyboardEvent.key is the\n   * preferred method, but seems less reliable than keyCode given\n   * it returns different strings for different browsers; ex: \"Escape\"\n   * in Chrome, but \"Esc\" in Edge. This function future proofs\n   * against deprecation, while still giving preference to the more\n   * reliable keyCode.\n   * https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/keyCode\n   * https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/code\n   * https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key\n   * https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/which\n   *\n   * KeyMap : { keyCode: Number, keys: [ String ] }\n   * isKey : KeyMap -> KeyboardEvent -> Boolean\n   */\n\n};\n\nvar isKey = function isKey(_ref) {\n  var keyCode = _ref.keyCode,\n      keys = _ref.keys;\n  return function (e) {\n    return e.keyCode ? e.keyCode === keyCode : keys.indexOf(e.key) !== -1;\n  };\n}; // is<X>Key : KeyboardEvent -> Boolean\n\n\nvar isEnterOrSpaceBarKey = exports.isEnterOrSpaceBarKey = function isEnterOrSpaceBarKey(e) {\n  return isKey(enterKey)(e) || isSpaceBarKey(e);\n};\n\nvar isTabKey = exports.isTabKey = isKey(tabKey);\nvar isSpaceBarKey = exports.isSpaceBarKey = isKey(spaceBarKey);\nvar isEscapeKey = exports.isEscapeKey = isKey(escapeKey);","'use strict';\nvar global = require('./_global');\nvar has = require('./_has');\nvar cof = require('./_cof');\nvar inheritIfRequired = require('./_inherit-if-required');\nvar toPrimitive = require('./_to-primitive');\nvar fails = require('./_fails');\nvar gOPN = require('./_object-gopn').f;\nvar gOPD = require('./_object-gopd').f;\nvar dP = require('./_object-dp').f;\nvar $trim = require('./_string-trim').trim;\nvar NUMBER = 'Number';\nvar $Number = global[NUMBER];\nvar Base = $Number;\nvar proto = $Number.prototype;\n// Opera ~12 has broken Object#toString\nvar BROKEN_COF = cof(require('./_object-create')(proto)) == NUMBER;\nvar TRIM = 'trim' in String.prototype;\n\n// 7.1.3 ToNumber(argument)\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  if (typeof it == 'string' && it.length > 2) {\n    it = TRIM ? it.trim() : $trim(it, 3);\n    var first = it.charCodeAt(0);\n    var third, radix, maxCode;\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal /^0o[0-7]+$/i\n        default: return +it;\n      }\n      for (var digits = it.slice(2), i = 0, l = digits.length, code; i < l; i++) {\n        code = digits.charCodeAt(i);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\nif (!$Number(' 0o1') || !$Number('0b1') || $Number('+0x1')) {\n  $Number = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var that = this;\n    return that instanceof $Number\n      // check on 1..constructor(foo) case\n      && (BROKEN_COF ? fails(function () { proto.valueOf.call(that); }) : cof(that) != NUMBER)\n        ? inheritIfRequired(new Base(toNumber(it)), that, $Number) : toNumber(it);\n  };\n  for (var keys = require('./_descriptors') ? gOPN(Base) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES6 (in case, if modules with ES6 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(Base, key = keys[j]) && !has($Number, key)) {\n      dP($Number, key, gOPD(Base, key));\n    }\n  }\n  $Number.prototype = proto;\n  proto.constructor = $Number;\n  require('./_redefine')(global, NUMBER, $Number);\n}\n"],"sourceRoot":""}